function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}
/**
 * @package   DPCalendar
 * @copyright Digital Peak GmbH. <https://www.digital-peak.com>
 * @license   http://www.gnu.org/licenses/gpl-3.0.html GNU/GPL
 */!function(){"use strict";var e=window.DPCalendar||{};window.DPCalendar=e,Joomla.loadOptions(),e.requestCounter=0,e.modal=function(e,t,o,n){loadDPAssets(["/com_dpcalendar/js/domurl/url.js","/com_dpcalendar/js/tingle/tingle.js","/com_dpcalendar/css/tingle/tingle.css"],(function(){var r=new tingle.modal({footer:!1,stickyFooter:!1,closeMethods:["overlay","button","escape"],cssClass:["dpcalendar-modal"],closeLabel:Joomla.JText._("COM_DPCALENDAR_CLOSE"),onClose:function(){n&&n(r.modalBox.children[0].querySelector("iframe"))}});t&&document.body.clientWidth>t&&(isNaN(t)||(t+="px"),document.querySelector(".tingle-modal-box").style.width=t),o||(o="80vh"),isNaN(o)||(o+="px");var i=new Url(e);i.query.tmpl="component",r.setContent('<iframe style="width:100%; height:'+o+'" src="'+i.toString()+'" frameborder="0" allowfullscreen></iframe>'),r.open()}))},e.print=function(e){document.body.outerHTML=document.querySelector(e).outerHTML,window.addEventListener("afterprint",(function(e){setTimeout((function(){return window.location.reload(!0)}),2e3)})),window.print()},e.encode=function(e){return e.replace(/&amp;/g,"&")},e.pad=function(e,t){for(var o=e+"";o.length<t;)o="0"+o;return o},e.formToQueryString=function(e,t){for(var o,n=t?e.querySelectorAll(t):e.elements,r=[],i=0;i<n.length;i++)if((o=n[i]).name&&!o.disabled&&"file"!=o.type&&"reset"!=o.type&&"submit"!=o.type&&"button"!=o.type)if("select-multiple"==o.type)for(var s=n[i].options.length-1;s>=0;s--)o.options[s].selected&&(r[r.length]=encodeURIComponent(o.name)+"="+encodeURIComponent(o.options[s].value));else("checkbox"!=o.type&&"radio"!=o.type||o.checked)&&(r[r.length]=encodeURIComponent(o.name)+"="+encodeURIComponent(o.value));return r.join("&").replace(/%20/g,"+")},e.arrayToQueryString=function(t,o){var n,r=[];for(n in t)if(t.hasOwnProperty(n)){var i=o?o+"["+n+"]":n,s=t[n];r.push(null!==s&&"object"===_typeof(s)?e.arrayToQueryString(s,i):encodeURIComponent(i)+"="+encodeURIComponent(s))}return r.join("&").replace(/%20/g,"+")},e.currentLocation=function(t){return!!navigator.geolocation&&(navigator.geolocation.getCurrentPosition((function(o){var n="location.loc";-1==window.location.href.indexOf("administrator")&&(n="locationform.loc"),e.request("task="+n+"&loc="+encodeURIComponent(o.coords.latitude+","+o.coords.longitude),(function(e){return t(e.data.formated)}))}),(function(e){Joomla.renderMessages({error:[e.message]})})),!0)},e.request=function(t,o,n,r){var i=!1!==r?document.querySelector(".dp-loader"):null;i&&i.classList.remove("dp-loader_hidden"),n||(n=""),n+=(n?"&":"")+Joomla.getOptions("csrf.token")+"=1",e.requestCounter++,Joomla.request({url:Joomla.getOptions("system.paths").base+"/index.php?option=com_dpcalendar&"+t,method:"POST",data:n,onSuccess:function(n){e.requestCounter--,i&&i.classList.add("dp-loader_hidden");try{var r=JSON.parse(n);null!=r.messages&&0!==r.messages.length&&document.getElementById("system-message-container")&&Joomla.renderMessages(r.messages),o&&o(r)}catch(e){document.getElementById("system-message-container")&&Joomla.renderMessages({error:[t+"<br>"+e.message]}),window.console&&console.log(e)}},onError:function(o){if(e.requestCounter--,i&&i.classList.add("dp-loader_hidden"),o.responseText)try{var n=JSON.parse(o.responseText);null!=n.messages&&0!==n.messages.length&&document.getElementById("system-message-container")&&Joomla.renderMessages(n.messages)}catch(e){document.getElementById("system-message-container")&&Joomla.renderMessages({error:[t+"<br>"+e.message]})}}})},e.debounce=function(e,t,o){var n;return null==t&&(t=500),null==o&&(o=!1),function(){var r=this,i=arguments,s=function(){n=null,o||e.apply(r,i)},a=o&&!n;clearTimeout(n),n=setTimeout(s,t),a&&e.apply(r,i)}},e.slideToggle=function(e,n){if(e)return"none"===window.getComputedStyle(e).display?o(e,n):t(e,n)},[].slice.call(document.querySelectorAll(".dp-button-print")).forEach((function(t){t.addEventListener("click",(function(){return e.print(t.getAttribute("data-selector"))}))})),[].slice.call(document.querySelectorAll(".dp-button-action[data-href]")).forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("data-confirmtext");return t||(t=Joomla.JText._("COM_DPCALENDAR_CONFIRM_DELETE")),!(e.classList.contains("dp-action-delete")&&!confirm(t))&&("new"==e.getAttribute("data-target")?(window.open(e.getAttribute("data-href")),!1):(location.href=e.getAttribute("data-href"),!1))}))})),[].slice.call(document.querySelectorAll(".dp-tabs__input")).forEach((function(e){e.addEventListener("click",(function(){return localStorage.setItem("dp-tabs-"+e.name,e.id)})),localStorage.getItem("dp-tabs-"+e.name)==e.id&&(e.checked=!0)}));var t=function(e,t){e.style.transitionProperty="height, margin, padding",e.style.transitionDuration="700ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),t&&t(!1,e)}),710)},o=function(e,t){e.style.removeProperty("display");var o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;var n=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration="700ms",e.style.height=n+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),t&&t(!0,e)}),710)}}();